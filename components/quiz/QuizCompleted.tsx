"use client";

import React from "react";
import { Button } from "@/components/ui/button";

type Props = {
  onRestart: () => void;
  onHome: () => void;
};

function Mascotte(props: { className?: string }) {
  return (
    <svg
      viewBox="0 0 287 403"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={props.className}
    >
      <path d="M220.551 104.982H108.918C107.261 104.982 105.918 103.639 105.918 101.982V69.2587C105.918 68.1315 105.286 67.0995 104.282 66.5869L75.6579 51.97C73.4134 50.8238 73.4968 47.5885 75.7975 46.5596L168.137 5.26297C168.942 4.9031 169.864 4.91533 170.659 5.2964L256.397 46.4019C258.672 47.4927 258.666 50.7337 256.387 51.8167L225.264 66.6084C224.218 67.1054 223.551 68.16 223.551 69.3179V101.982C223.551 103.639 222.208 104.982 220.551 104.982Z" fill="black" />
      <ellipse cx="243.965" cy="86.2975" rx="10.486" ry="10.4862" fill="black" />
      <path d="M237.378 76.2876V56.2688C237.378 51.7384 240.156 48.0657 243.583 48.0657C247.01 48.0657 249.789 51.7384 249.789 56.2688V76.2876C249.789 80.8181 247.01 84.4907 243.583 84.4907C240.156 84.4907 237.378 80.8181 237.378 76.2876Z" fill="black" />
      <path d="M167.01 41.9968C184.734 41.9968 203.141 46.5634 213.809 57.2228C216.296 59.7078 216.296 63.7374 213.809 66.2224C211.322 68.7074 207.29 68.7074 204.803 66.2224C197.639 59.065 183.356 54.7231 167.01 54.7231C150.838 54.7231 134.644 58.9932 124.439 66.78C121.643 68.9128 117.647 68.3774 115.512 65.5844C113.378 62.7914 113.914 58.7981 116.709 56.6652C129.854 46.6353 149.11 41.9968 167.01 41.9968Z" fill="white" fill-opacity="0.8" />
      <path d="M45.4004 199.734C60.9581 101.2 198.696 36.0983 282.233 155.715C273.781 164.994 234.569 183.809 209.975 173.638C215.694 184.124 235.332 196.136 276.322 189.844C257.256 262.675 71.3698 267.442 152.97 331.121C169.43 327.245 208.259 329.215 214.741 358.195C199.12 367.529 165.796 361.827 165.743 361.818C165.73 361.937 162.668 389.291 151.254 398.233C140.768 398.233 120.292 368.032 124.562 346.373C60.6261 302.45 39.5953 250.538 44.6846 205.032C36.3303 198.354 20.0045 186.295 11.79 168.223C28.186 144.72 56.3255 146.435 65.4473 146.253C60.5708 153.706 48.2717 175.155 45.4004 199.734Z" fill="#42AED8" />
      <ellipse cx="192.283" cy="136.059" rx="22.8785" ry="22.879" fill="white" />
      <ellipse cx="192.093" cy="135.869" rx="12.3925" ry="12.3928" fill="black" />
      <path d="M151.484 206.601C90.017 256.782 115.45 313.562 151.484 335.678C74.2689 263.42 266.258 249.693 277.125 190.778C259.394 193.257 255.962 193.066 234.99 190.778C210.777 209.463 191.521 224.906 151.484 206.601Z" fill="#B9E0EB" />
      <path d="M144.8 128.001C146.092 126.105 148.675 125.616 150.571 126.907C152.466 128.199 152.956 130.782 151.665 132.677C144.535 143.142 137.601 159.391 139.054 174.391C139.768 181.763 142.498 188.827 148.265 194.92C154.067 201.05 163.188 206.455 177.098 210.015C179.319 210.584 180.66 212.846 180.091 215.068C179.522 217.29 177.26 218.63 175.038 218.061C160.045 214.224 149.383 208.184 142.233 200.63C135.048 193.039 131.657 184.177 130.787 175.191C129.071 157.474 137.122 139.271 144.8 128.001Z" fill="#022440" />
      <path d="M69.282 148.763C64.1942 156.538 50.9227 179.858 49.4994 205.475L49.0053 214.368L42.0572 208.797C34.0302 202.361 16.4542 189.56 7.61798 170.12L6.53763 167.742L8.03147 165.601C25.9934 139.853 56.864 141.841 65.356 141.672L74.0352 141.499L69.282 148.763ZM57.26 150.979C45.7996 151.449 28.7491 153.959 17.1213 168.725C23.2953 180.78 33.2469 189.867 41.2167 196.387C43.9423 177.653 51.6406 161.037 57.26 150.979Z" fill="black" />
      <path d="M103.781 194.271C105.747 193.091 108.299 193.729 109.479 195.695C110.659 197.662 110.021 200.213 108.054 201.393C96.6004 208.266 90.2852 216.619 87.5475 224.068C84.7625 231.646 85.7339 237.976 88.1727 241.436C89.3579 243.117 90.8978 244.173 92.7051 244.588C94.5358 245.008 96.9989 244.849 100.094 243.439C106.407 240.565 114.757 232.728 123.633 216.61C124.74 214.602 127.265 213.87 129.274 214.976C131.283 216.083 132.015 218.608 130.908 220.617C121.672 237.388 112.22 247.045 103.536 250.998C99.1336 253.003 94.7996 253.591 90.8474 252.684C86.8719 251.771 83.6425 249.425 81.3841 246.221C76.9356 239.91 76.3223 230.534 79.7516 221.203C83.2281 211.743 90.926 201.984 103.781 194.271Z" fill="#022440" />
      <path d="M76.3419 128.419C102.095 101.557 138.595 84.8598 176.794 86.3951C215.146 87.9367 254.605 107.83 286.141 152.987C287.417 154.813 287.257 157.279 285.757 158.926C283.119 161.822 278.545 165.037 273.147 168.03C267.64 171.082 260.904 174.107 253.65 176.497C245.061 179.328 235.364 181.393 225.973 181.335C235.632 185.946 251.405 188.847 275.6 185.133C277.186 184.889 278.789 185.461 279.864 186.653C280.938 187.845 281.34 189.498 280.934 191.051C275.687 211.093 259.147 225.888 240.043 237.74C220.903 249.614 197.975 259.232 178.932 268.225C169.302 272.773 160.661 277.156 153.695 281.646C146.661 286.181 141.796 290.54 139.237 294.855C136.859 298.865 136.369 302.972 138.451 307.901C140.544 312.857 145.341 318.843 154.184 325.999C163.228 324.32 176.595 324.2 188.919 327.758C202.415 331.654 215.627 340.318 219.393 357.155C219.842 359.162 218.952 361.231 217.186 362.287C212.519 365.076 206.808 366.597 201.179 367.419C195.497 368.248 189.571 368.41 184.259 368.275C178.932 368.139 174.125 367.702 170.653 367.3C170.345 367.265 170.048 367.228 169.761 367.193C169.277 370.002 168.514 373.814 167.385 377.927C166.241 382.093 164.691 386.677 162.617 390.875C160.567 395.022 157.844 399.125 154.193 401.986C153.354 402.643 152.319 403 151.254 403C148.842 403 146.561 402.151 144.598 401.055C142.597 399.939 140.634 398.402 138.772 396.628C135.046 393.078 131.368 388.239 128.242 382.801C122.601 372.987 118.22 360.249 119.418 348.604C68.6169 312.941 44.6784 271.836 40.0372 232.5C35.3302 192.607 50.5705 155.3 76.3419 128.419ZM176.41 95.9202C141.237 94.5065 107.302 109.9 83.223 135.016C59.1621 160.113 45.1726 194.672 49.504 231.382C53.8272 268.023 76.5021 307.574 127.262 342.445C128.83 343.523 129.607 345.43 129.239 347.296C127.424 356.503 130.87 368.244 136.507 378.051C139.277 382.87 142.417 386.935 145.346 389.725C146.811 391.12 148.134 392.112 149.244 392.732C149.469 392.857 149.674 392.961 149.861 393.048C151.356 391.445 152.771 389.28 154.07 386.651C155.785 383.181 157.144 379.221 158.192 375.403C159.236 371.602 159.944 368.05 160.39 365.443C160.612 364.143 160.769 363.088 160.868 362.365C160.918 362.004 160.953 361.726 160.976 361.543C160.987 361.452 160.995 361.384 161 361.342C161.003 361.321 161.004 361.306 161.005 361.297C161.006 361.295 161.006 361.291 161.006 361.291C161.151 359.986 161.828 358.799 162.877 358.009C163.926 357.22 165.253 356.898 166.547 357.12H166.548C166.55 357.12 166.554 357.121 166.56 357.122C166.572 357.124 166.591 357.127 166.619 357.132C166.673 357.141 166.759 357.155 166.873 357.173C167.103 357.209 167.448 357.263 167.898 357.329C168.799 357.461 170.116 357.642 171.749 357.83C175.021 358.209 179.533 358.619 184.501 358.745C189.484 358.872 194.831 358.712 199.802 357.986C203.27 357.48 206.404 356.718 209.049 355.676C205.418 345.736 196.738 339.937 186.275 336.917C174.546 333.53 161.558 333.996 154.062 335.761C152.656 336.093 151.176 335.768 150.037 334.88C139.585 326.722 132.822 319.075 129.669 311.61C126.372 303.805 127.166 296.523 131.038 289.993C134.729 283.769 141.08 278.437 148.53 273.634C156.05 268.786 165.164 264.184 174.861 259.605C194.474 250.342 216.493 241.132 235.018 229.639C250.886 219.795 263.306 208.784 269.255 195.566C232.474 199.433 212.488 188.198 205.791 175.921C204.824 174.147 205.079 171.956 206.429 170.453C207.779 168.95 209.93 168.461 211.797 169.233C222.487 173.654 237.065 171.926 250.666 167.444C257.345 165.243 263.534 162.459 268.525 159.692C271.564 158.008 274.033 156.398 275.869 155.004C246.285 114.456 210.482 97.2897 176.41 95.9202Z" fill="black" />
    </svg>

  );
}

export default function QuizCompleted({ onRestart, onHome }: Props) {
  return (
    <div className="w-full min-h-[70vh] flex items-center justify-center px-4">
      <div
        className="w-full max-w-[980px] rounded-[18px] border border-white/10 bg-[var(--color-ocean-950)]/70 shadow-[0_18px_40px_rgba(0,0,0,0.35)] p-8 overflow-hidden relative"
      >
        {/* petits ‚Äúconfettis‚Äù simples */}
        <div
          className="absolute -top-10 -left-10 w-28 h-28 rounded-full opacity-20 blur-2xl"
          style={{ background: "var(--color-quiz-easy)" }}
        />
        <div
          className="absolute -bottom-10 -right-10 w-28 h-28 rounded-full opacity-20 blur-2xl"
          style={{ background: "var(--color-quiz-hard)" }}
        />

        <div className="grid grid-cols-1 md:grid-cols-[1fr_340px] gap-8 items-center">
          <div className="flex flex-col gap-4">
            <div
              className="text-Display-SemiBold"
              style={{ color: "var(--color-quiz-easy)" }}
            >
              F√©licitations üéâ
            </div>

            <div className="text-white/90 text-h4-Normal leading-relaxed">
              Tu as termin√© le quiz ! Merci d‚Äôavoir jou√©.
            </div>

            <div className="flex flex-wrap gap-3 mt-2">
              <Button variant="default"
                className="bg-[var(--color-ocean-800)] hover:bg-[var(--color-ocean-800)]/80 text-white rounded-[5px]"
                onClick={onRestart}
              >
                Recommencer
              </Button>
              <Button variant="secondary" onClick={onHome} className="bg-white hover:bg-white/80 text-[var(--color-ocean-850)] border-input rounded-[5px]">
                Retour √† l‚Äôaccueil
              </Button>
            </div>
          </div>

          <div className="flex justify-center md:justify-end">
            <div
              className="rounded-[18px] bg-white/5 border border-white/10 p-4"
              style={{
                transform: "translateZ(0)",
              }}
            >
              <Mascotte
                className="w-[240px] h-auto motion-safe:animate-bounce"
              />
              <style jsx>{`
                .motion-safe\\:animate-bounce {
                  animation-duration: 2.6s !important;
                }
              `}</style>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
